"use strict";var mandatorySeatsNum,tickets=[{name:"Phổ thông",description:"Dành cho mọi đối tượng.",unitPrice:8e4},{name:"Học sinh/Sinh viên",description:"Chỉ dành cho học sinh và sinh viên.",unitPrice:75e3},{name:"VIP",description:"Chỉ dành cho thành viên VIP.",unitPrice:7e4}],combos=[{image:"https://www.galaxycine.vn/media/2020/5/19/combo-1_1589871759174.jpg",name:"Combo 1 Large",description:"1 Bắp + 1 Nước ngọt 32 Oz",unitPrice:72e3},{image:"https://www.galaxycine.vn/media/2020/5/19/combo-2_1589871763789.jpg",name:"Combo 2 Small",description:"1 Bắp + 2 Nước ngọt 22 Oz",unitPrice:81e3}],availableTicketsNumElement=document.getElementById("book-ticket-available-tickets-num"),ticketRowNumElements=document.querySelectorAll("#book-ticket-ticket-box .book-ticket-list .book-ticket-data-row .book-ticket-quantity"),ticketRowTotalPriceElements=document.querySelectorAll("#book-ticket-ticket-box .book-ticket-list .book-ticket-data-row .book-ticket-total-price-cell"),ticketTotalPriceElement=document.querySelector("#book-ticket-ticket-box .book-ticket-list .book-ticket-total-row .book-ticket-total-price-cell"),comboRowNumElements=document.querySelectorAll("#book-ticket-food-box .book-ticket-list .book-ticket-data-row .book-ticket-quantity"),comboRowTotalPriceElements=document.querySelectorAll("#book-ticket-food-box .book-ticket-list .book-ticket-data-row .book-ticket-total-price-cell"),comboTotalPriceElement=document.querySelector("#book-ticket-food-box .book-ticket-list .book-ticket-total-row .book-ticket-total-price-cell"),totalPriceElement=document.querySelector("#book-ticket-info-box .book-ticket-total-price span"),ticketDecBtnElements=document.querySelectorAll("#book-ticket-ticket-box .book-ticket-list .book-ticket-decrease-btn"),ticketIncBtnElements=document.querySelectorAll("#book-ticket-ticket-box .book-ticket-list .book-ticket-increase-btn"),comboDecBtnElements=document.querySelectorAll("#book-ticket-food-box .book-ticket-list .book-ticket-decrease-btn"),comboIncBtnElements=document.querySelectorAll("#book-ticket-food-box .book-ticket-list .book-ticket-increase-btn"),infoTicketElement=document.querySelector("#book-ticket-info-box .book-ticket-showtime-info-ticket"),infoComboElement=document.querySelector("#book-ticket-info-box .book-ticket-showtime-info-combo"),infoSeatElement=document.querySelector("#book-ticket-info-box .book-ticket-showtime-info-seat"),ticketfoodBoxElement=document.querySelector("#book-ticket-ticketfood-box"),seatBoxElement=document.querySelector("#book-ticket-seat-box"),continueBtnElement=document.querySelector("#book-ticket-info-box .book-ticket-continue-btn"),ticketNames=tickets.map(function(t){return t.name}),comboNames=combos.map(function(t){return t.name}),ticketUnitPrices=tickets.map(function(t){return t.unitPrice}),comboUnitPrices=combos.map(function(t){return t.unitPrice}),ticketRowNums=Array(tickets.length).fill(0),ticketRowTotalPrices=Array(tickets.length).fill(0),ticketTotalPrice=0,comboRowNums=Array(combos.length).fill(0),comboRowTotalPrices=Array(combos.length).fill(0),comboTotalPrice=0,availableTicketsNum=availableTicketsNumElement.innerHTML,totalPrice=0;function formatPriceVND(t){return t.toLocaleString("it-IT",{style:"currency",currency:"VND"})}function init(){ticketRowNumElements.forEach(function(t){t.innerHTML=0}),ticketRowTotalPriceElements.forEach(function(t){t.innerHTML=formatPriceVND(0)}),ticketTotalPriceElement.innerHTML=formatPriceVND(0),comboRowNumElements.forEach(function(t){t.innerHTML=0}),comboRowTotalPriceElements.forEach(function(t){t.innerHTML=formatPriceVND(0)}),comboTotalPriceElement.innerHTML=formatPriceVND(0),totalPriceElement.innerHTML=formatPriceVND(0)}function getTicketInfo(){for(var t="",e=0;e<ticketRowNums.length;++e)ticketRowNums[e]>0&&(t+="".concat(ticketNames[e]," (").concat(ticketRowNums[e],"), "));return t}function getComboInfo(){for(var t="",e=0;e<comboRowNums.length;++e)comboRowNums[e]>0&&(t+="".concat(comboNames[e]," (").concat(comboRowNums[e],"), "));return t}ticketIncBtnElements.forEach(function(t,e){t.addEventListener("click",function(){availableTicketsNum>0&&(availableTicketsNum-=1,ticketRowNums[e]+=1,ticketRowTotalPrices[e]+=ticketUnitPrices[e],ticketTotalPrice+=ticketUnitPrices[e],totalPrice+=ticketUnitPrices[e],ticketRowNumElements[e].innerHTML=ticketRowNums[e],ticketRowTotalPriceElements[e].innerHTML=formatPriceVND(ticketRowTotalPrices[e]),ticketTotalPriceElement.innerHTML=formatPriceVND(ticketTotalPrice),totalPriceElement.innerHTML=formatPriceVND(totalPrice),availableTicketsNumElement.innerHTML=availableTicketsNum,infoTicketElement.innerHTML=getTicketInfo())})}),comboIncBtnElements.forEach(function(t,e){t.addEventListener("click",function(){comboRowNums[e]+=1,comboRowTotalPrices[e]+=comboUnitPrices[e],comboTotalPrice+=comboUnitPrices[e],totalPrice+=comboUnitPrices[e],comboRowNumElements[e].innerHTML=comboRowNums[e],comboRowTotalPriceElements[e].innerHTML=formatPriceVND(comboRowTotalPrices[e]),comboTotalPriceElement.innerHTML=formatPriceVND(comboTotalPrice),totalPriceElement.innerHTML=formatPriceVND(totalPrice),infoComboElement.innerHTML=getComboInfo()})}),ticketDecBtnElements.forEach(function(t,e){t.addEventListener("click",function(){ticketRowNums[e]>0&&(availableTicketsNum+=1,ticketRowNums[e]-=1,ticketRowTotalPrices[e]-=ticketUnitPrices[e],ticketTotalPrice-=ticketUnitPrices[e],totalPrice-=ticketUnitPrices[e],ticketRowNumElements[e].innerHTML=ticketRowNums[e],ticketRowTotalPriceElements[e].innerHTML=formatPriceVND(ticketRowTotalPrices[e]),ticketTotalPriceElement.innerHTML=formatPriceVND(ticketTotalPrice),totalPriceElement.innerHTML=formatPriceVND(totalPrice),availableTicketsNumElement.innerHTML=availableTicketsNum,infoTicketElement.innerHTML=getTicketInfo())})}),comboDecBtnElements.forEach(function(t,e){t.addEventListener("click",function(){comboRowNums[e]>0&&(comboRowNums[e]-=1,comboRowTotalPrices[e]-=comboUnitPrices[e],comboTotalPrice-=comboUnitPrices[e],totalPrice-=comboUnitPrices[e],comboRowNumElements[e].innerHTML=comboRowNums[e],comboRowTotalPriceElements[e].innerHTML=formatPriceVND(comboRowTotalPrices[e]),comboTotalPriceElement.innerHTML=formatPriceVND(comboTotalPrice),totalPriceElement.innerHTML=formatPriceVND(totalPrice),infoComboElement.innerHTML=getComboInfo())})}),continueBtnElement.addEventListener("click",function(){var t=ticketRowNums.reduce(function(t,e){return t+e},0);t>0&&(mandatorySeatsNum=t,ticketfoodBoxElement.style.display="none",seatBoxElement.style.display="block",console.log(mandatorySeatsNum))}),init();