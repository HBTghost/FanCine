"use strict";var movieRowElements=document.querySelectorAll("#mnmovie-table tbody tr"),tableRowElements=document.querySelectorAll("#mnmovie-table tr"),tableBodyElement=document.querySelector("#mnmovie-table tbody"),displayCheckboxElements=document.querySelectorAll("#mnmovie-display .mmnmovie-display-item input");function showTableColumn(e){tableRowElements.forEach(function(t){t.children[e].style.display="table-cell"})}function hideTableColumn(e){tableRowElements.forEach(function(t){t.children[e].style.display="none"})}function refreshDisplay(){displayCheckboxElements.forEach(function(e,t){!1===e.checked&&hideTableColumn(t+1)})}function openModal(){$("#myModal").css("display","block")}function closeModal(){$("#myModal").css("display","none")}function editModal(){$(".modal-content").hasClass("editing")?($(".modal-content").removeClass("editing"),$("#edit").text("Edit"),$("#button-submit").css("display","inline-block"),$("#close").css("display","inline-block"),$(".modal-content").find(".edit").each(function(){if(jQuery(this).hasClass("descriptionField")){var e=$(this).find("TEXTAREA").val();$(this).text(e),$(this).find("TEXTAREA").remove()}else{var t=$(this).find("INPUT").val();$(this).text(t),$(this).find("INPUT").remove()}})):($(".modal-content").addClass("editing"),$("#button-submit").css("display","none"),$("#close").css("display","none"),$("#edit").text("Save"),$(".modal-content").find(".edit").each(function(){if(jQuery(this).hasClass("descriptionField")){var e=jQuery(this).text();jQuery(this).text(""),jQuery(this).append('<textarea class="form-control" rows="8">'.concat(e,"</textarea>"))}else{var t=jQuery(this).text();jQuery(this).text(""),jQuery(this).append('<input class="textfield" type="text" value="'.concat(t,'" />'))}}))}function submitModal(){var e,t,n,i,a,l,d,o,c,m,s,r,p;(e=document.createElement("form")).action="/admin/manageMovie/update",e.method="post",(t=document.createElement("input")).type="hidden",t.name="id",t.value=$(".idField").text(),(n=document.createElement("input")).type="hidden",n.name="originalName",n.value=$(".originalNameField").text(),(i=document.createElement("input")).type="hidden",i.name="vietnameseName",i.value=$(".vietnameseNameField").text(),(a=document.createElement("input")).type="hidden",a.name="label",a.value=$(".labelField").text(),(l=document.createElement("input")).type="hidden",l.name="time",l.value=$(".timeField").text(),(d=document.createElement("input")).type="hidden",d.name="producer",d.value=$(".producerField").text(),(o=document.createElement("input")).type="hidden",o.name="category",o.value=$(".categoryField").text(),(c=document.createElement("input")).type="hidden",c.name="cast",c.value=$(".castField").text(),(m=document.createElement("input")).type="hidden",m.name="nation",m.value=$(".nationField").text(),(s=document.createElement("input")).type="hidden",s.name="director",s.value=$(".directorField").text(),(r=document.createElement("input")).type="hidden",r.name="date",r.value=$(".dateField").text(),(p=document.createElement("input")).type="hidden",p.name="description",p.value=$(".descriptionField").text(),e.appendChild(t),e.appendChild(n),e.appendChild(i),e.appendChild(a),e.appendChild(l),e.appendChild(d),e.appendChild(o),e.appendChild(c),e.appendChild(m),e.appendChild(s),e.appendChild(r),e.appendChild(p),document.getElementById("hidden_form_container").appendChild(e),e.submit()}function eventDisplayCheckboxes(){displayCheckboxElements.forEach(function(e,t){e.addEventListener("click",function(){!0===e.checked?showTableColumn(t+1):hideTableColumn(t+1)})})}function eventRowMovies(){movieRowElements.forEach(function(e){e.addEventListener("click",function(){var t=e.children[13].innerHTML;fetch("/api/movies/".concat(t)).then(function(e){e.json().then(function(e){$("h2").html(e.originalName),$(".idField").html(t),$(".originalNameField").html(e.originalName),$(".vietnameseNameField").html(e.vietnameseName),$(".ratingField").html(e.rating),$(".ratesField").html(e.rates),$(".labelField").html(e.label),$(".timeField").html(e.time),$(".producerField").html(e.producer),$(".categoryField").html(e.category[0]);for(var n=1;n<e.category.length;n+=1)$(".categoryField").append(", ".concat(e.category[n]));$(".castField").html(e.cast[0]);for(var i=1;i<e.cast.length;i+=1)$(".castField").append(", ".concat(e.cast[i]));$(".nationField").html(e.nation),$(".directorField").html(e.director),$(".dateField").html(e.date),$(".descriptionField").html(e.description[0]);for(var a=1;a<e.description.length;a+=1)$(".descriptionField").append("<br>".concat(e.description[a]));openModal()})})})})}function handleEvents(){eventDisplayCheckboxes(),eventRowMovies()}function main(){refreshDisplay(),handleEvents()}main();