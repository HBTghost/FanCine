"use strict";var TABLE_HEADERS=Object.freeze({ROLE:0,NAME:1,EMAIL:2,PHONE_NUM:3,DOB:4,GENDER:5,ADDRESS:6,CITY:7,AREA:8,STAR:9,EXPENSE:10}),userRowElements=document.querySelectorAll("#mnuser-table tbody tr"),tableRowElements=document.querySelectorAll("#mnuser-table tr"),expenseCellElements=document.querySelectorAll("#mnuser-table tbody tr .mnuser-expense"),displayCheckboxElements=document.querySelectorAll("#mnuser-display .mmnuser-display-item input");function removeUserFromDatabase(e){var n=e.firstElementChild.innerHTML;try{fetch("/api/users/".concat(n),{method:"DELETE"}).then(function(n){n.json().then(function(n){n.message?Swal.fire({icon:"error",title:"Oops...",html:n.message}):(e.classList.add("fall"),e.ontransitionend=function(n){return e.remove()},Swal.fire({icon:"success",title:"Thành công",html:"Xóa user thành công"}))})})}catch(e){return!1}}function removeUser(e){var n=e.target,t=n.parentElement;"trash-btn"===n.classList[0]?Swal.fire({title:"Cảnh báo",icon:"warning",html:"Bạn có chắc chắn xóa user <b>".concat(t.innerText,"</b> không?"),confirmButtonColor:"#E74C3C",confirmButtonText:"Chắc chắn",showCancelButton:!0,cancelButtonColor:"#99A3A4",cancelButtonText:"Không"}).then(function(e){e.isConfirmed&&removeUserFromDatabase(t)}):"edit-btn"===n.classList[0]?t.classList.toggle("completed"):"complete-btn"===n.classList[0]&&t.classList.toggle("completed")}function showTableColumn(e){tableRowElements.forEach(function(n){n.children[e].style.display="table-cell"})}function hideTableColumn(e){tableRowElements.forEach(function(n){n.children[e].style.display="none"})}function initTable(){var e=[TABLE_HEADERS.ROLE,TABLE_HEADERS.NAME,TABLE_HEADERS.EMAIL,TABLE_HEADERS.PHONE_NUM,TABLE_HEADERS.DOB,TABLE_HEADERS.CITY,TABLE_HEADERS.EXPENSE],n=[TABLE_HEADERS.GENDER,TABLE_HEADERS.ADDRESS,TABLE_HEADERS.AREA,TABLE_HEADERS.STAR];e.forEach(function(e){displayCheckboxElements[e].checked=!0}),n.forEach(function(e){hideTableColumn(e)})}function formatExpenseValues(){expenseCellElements.forEach(function(e){e.innerHTML=parseInt(e.innerHTML,10).toLocaleString("it-IT",{style:"currency",currency:"VND"})})}function eventDisplayCheckboxes(){displayCheckboxElements.forEach(function(e,n){e.addEventListener("click",function(){!0===e.checked?showTableColumn(n):hideTableColumn(n)})})}function main(){initTable(),formatExpenseValues(),eventDisplayCheckboxes()}main();